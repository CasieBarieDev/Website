---
---

@use 'variables' as *;

// Reset
* {
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  /*UNCOMMENT FOR DEBUG*/ // outline: 1px solid #f00 !important;
}

// Scrollbar styling
::-webkit-scrollbar {
  width: 1vh;
  height: 1vh;
}
::-webkit-scrollbar-track {
  display: none;
}
::-webkit-scrollbar-thumb {
  background: $gray-color;
  border-radius: 1.3vh;
}

// Body styling
body {
  font-family: monospace;
  overflow: hidden;
  user-select: text;
  color: $font-color;
  overflow-anchor: none;
  //noinspection CssInvalidPropertyValue
  overflow-y: overlay;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  text-decoration-skip-ink: none;
  background: black radial-gradient(circle, $bg-color-2 0%, $bg-color-1 50%);
  text-shadow: $font-color-invert 1px 2px 3px;

  &.fixed-position {
    position: fixed;
    overflow-y: scroll;
  }

  &::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100lvw;
    height: 100lvh;
    background: rgba(0, 0, 0, 0.6);
    z-index: 1;
    pointer-events: none;
  }
}

#body {
  position: relative;
  z-index: 2;
}

#page {
  margin-bottom: 10px;
  min-height: calc(100vh - 10em);
  display: grid;
  grid-gap: 1em;
  place-items: center;
}

#down-button {
  position: relative;
  top: -5em;
  transition: opacity .3s linear;

  &:hover span {
    opacity: .8;
    cursor: pointer;
  }

  span {
    position: absolute;
    left: 50%;
    width: 2em;
    height: 2em;
    margin-left: -1.6vh;
    border-left: .3em solid $font-color-gray;
    border-bottom: .3em solid $font-color-gray;
    transform: rotate(-45deg);
    box-sizing: border-box;
  }
}

.row {
  width: 80%;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  grid-gap: .5em 2em;
  padding: 0 2.5em;
  border-radius: 30px;
  align-items: center;

  img {
    width: 100%;
    height: 100%;
    border-radius: 30px;
  }

  &:has(.center) {
    text-align: center;
  }
}

// Additional classes
.top {
  min-height: 100lvh;
  .text {
    box-shadow: 10px 10px 20px $primary-color;
  }
}
.bottom { margin-bottom: 5%; }

.text {
  border-radius: 30px;
  padding: 1.3em;
  font-size: clamp(1em, 2.5vw, 1.3em);
  backdrop-filter: blur(4px);
  box-shadow: 10px 10px 20px black;

  img {
    max-width: 500px;
  }
}

// Headings
h1 {
  font-size: clamp(4ex, 5vw, 7ex);
  padding-bottom: .2em;
  text-decoration: underline double $primary-color;
}

h2 {
  font-size: clamp(3ex, 4vw, 5ex);
  padding-bottom: .5em;
  text-decoration: underline $primary-color;
}

h3 {
  font-size: clamp(2ex, 3vw, 3ex);
  padding-bottom: .5em;
  text-decoration: underline $secondary-color;
}

h4 {
  text-decoration: underline $secondary-color;
}

// Text colors
p { word-wrap: normal; }
p.gray { color: $font-color-gray; }
b { color: $font-color; }
.secondary {color: $secondary-color}
.red {color: $close-color}

// Lists
ul {
  padding-left: 1em;
  &.gray {color: $font-color-gray;}
  &.none {
    list-style: none;
    padding-left: 0;
  }
}
ol {
  list-style-type: none;
  counter-reset: item;
  padding-left: 1em;

  > li {
    display: table;
    counter-increment: item;
  }

  > li:before {
    content: counters(item, ".") ". ";
    display: table-cell;
    padding-right: .6em;
  }

  &.gray {color: $font-color-gray;}
}

li ol > li {margin: 0;}

li ol > li:before {content: counters(item, ".") " ";}

ul, ol {
  li {margin-bottom: .6em;}

  ul {
    list-style: circle;

    li {margin-bottom: 0;}

    &.none {
      list-style: none;
      padding-left: 0;
    }
  }
}

// Links
a {
  color: $font-color-gray;
  text-decoration: none;
  transition: color .3s ease-in-out;
  display: inline-block;

  &.shield {
    margin: auto;
    display: inline-block;
    max-height: 29px;

    img {
      max-height: 28px;
      transition: opacity .3s;

      &:hover {opacity: 0.7;}
    }
  }

  &.white {color: $font-color;}
  &:hover {color: $font-color-gray-highlight;}
  &.white:hover {color: $font-color-highlight;}
}

// Other elements
.row i { font-size: .6em; }

.copy {
  transition: opacity .3s;

  &:hover {opacity: .8;}
}

.modal-image:hover, .modal:hover {cursor: pointer;}

// Modal styling
.modal {
  display: none;
  position: fixed;
  z-index: 50;
  padding-top: 50px;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: rgba(0, 0, 0, 0.9);
}

.modal-content, .modal-caption {
  animation: zoom .6s;
  margin: auto;
  display: block;
}

.modal-content {
  max-height: 80%;
  max-width: 80%;
  object-fit: scale-down;
}

.modal-caption {
  width: 80%;
  max-width: 700px;
  text-align: center;
  color: #ccc;
}

@keyframes zoom {
  from { transform: scale(0); }
  to { transform: scale(1); }
}

// Collapsible
.coll {
  color: $font-color;
  cursor: pointer;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: clamp(3ex, 4vw, 5ex);
  font-weight: bold;
  display: block;
  text-decoration: underline $primary-color;
  background: transparent;

  &.coll-active .coll-icon:after {transform: rotate(180deg);}
  &.coll-active .coll-icon:before {transform: rotate(90deg) scale(0);}

  .coll-icon {
    font-weight: bold;
    float: right;
    margin-right: 1em;
    display: inline-block;
    position: relative;

    &:before,
    &:after {
      content: "";
      position: absolute;
      width: 1em;
      height: .16em;
      top: calc(.5em - .08em);
      background-color: $font-color;
      transition: .3s all;
      border-radius: .03em;
    }

    &:after {
      transform: rotate(90deg);
    }
  }
}

.coll-content {
  padding: 0 1.5em;
  max-height: 0;
  transition: max-height .3s ease-out, padding .3s ease-out;
  text-align: left;
  border-radius: 25px;
  overflow: hidden;

  &.expanded {
    max-height: none;
    padding: 1.5em;
  }

  .coll-content-text {
    padding: .5em 0;
    font-size: clamp(.9rem, 3.5vw, 1.1rem);
  }
}

// Media Queries for Mobile
@media (max-width: 600px) {
  .coll {
    font-size: clamp(1rem, 5vw, 1.3rem);
    margin-bottom: 8px;

    .coll-icon {
      margin-right: 0.5em;

      &:before,
      &:after {
        width: .8em;
        height: .12em;
      }
    }
  }

  .coll-content {
    padding: 0 1em;

    &.expanded {padding: 1em;}
  }
}

// Circle animations
#circles {
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1;

  li {
    position: fixed;
    display: block;
    list-style: none;
    width: 20px;
    height: 20px;
    background: rgba(255, 255, 255, 0.2);
    animation: animate 25s linear infinite;
    bottom: -21vh;
  }

  // Customize individual li elements
  li:nth-child(1) { left: 25%; width: 80px; height: 80px; animation-delay: 0s; }
  li:nth-child(2) { left: 10%; width: 20px; height: 20px; animation-delay: 2s; animation-duration: 12s; }
  li:nth-child(3) { left: 70%; width: 20px; height: 20px; animation-delay: 4s; }
  li:nth-child(4) { left: 40%; width: 60px; height: 60px; animation-delay: 0s; animation-duration: 18s; }
  li:nth-child(5) { left: 65%; width: 20px; height: 20px; animation-delay: 0s; }
  li:nth-child(6) { left: 75%; width: 110px; height: 110px; animation-delay: 3s; }
  li:nth-child(7) { left: 35%; width: 150px; height: 150px; animation-delay: 7s; }
  li:nth-child(8) { left: 50%; width: 25px; height: 25px; animation-delay: 15s; animation-duration: 45s; }
  li:nth-child(9) { left: 20%; width: 15px; height: 15px; animation-delay: 2s; animation-duration: 35s; }
  li:nth-child(10) { left: 85%; width: 150px; height: 150px; animation-delay: 0s; animation-duration: 11s; }
}

@keyframes animate {
  0%, 100% { transform: translateY(0) rotate(0deg); opacity: 1; border-radius: 0; }
  100% { transform: translateY(-1000px) rotate(720deg); opacity: 0; border-radius: 50%; }
}

// Responsive adjustments
@media (max-width: 970px) {#down-button { display: none; }}
@media (max-width: 800px) {.row .empty { display: none; }}